(function() {
  var H, W, animationCurve, canvas, colorStops, getColors, i, j, k, l, len, lut, maxDraws, numDraws, pMax, rand, ref, ref1, render, row, speed, step, styles, transformations, v, xRange, xSpan, yRange, ySpan;

  speed = 1;

  W = 350;

  H = 500;

  transformations = [
    [
      (function(x,
      y) {
        return 0;
      }),
      (function(x,
      y) {
        return 0.16 * y;
      }),
      1
    ],
    [
      (function(x,
      y) {
        return 0.2 * x - 0.26 * y;
      }),
      (function(x,
      y) {
        return 0.23 * x + 0.22 * y + 1.6;
      }),
      7
    ],
    [
      (function(x,
      y) {
        return -0.15 * x + 0.28 * y;
      }),
      (function(x,
      y) {
        return 0.26 * x + 0.24 * y + 0.44;
      }),
      7
    ],
    [
      (function(x,
      y) {
        return 0.85 * x + 0.04 * y;
      }),
      (function(x,
      y) {
        return -0.04 * x + 0.85 * y + 1.6;
      }),
      85
    ]
  ];

  maxDraws = 200000;

  xRange = [-2.182, 2.6558];

  yRange = [0, 9.9983];

  canvas = document.getElementById("world");

  canvas.width = W;

  canvas.height = H;

  styles = {
    position: "absolute",
    top: "50%",
    left: "50%",
    margin: `-${~~(H / 2)}px 0 0 -${~~(W / 2)}px`
  };

  colorStops = [[0, "rgba(255,255,255,1)"], [1000, "rgba(253,253,52,0.6)"], [5000, "rgba(0,171,56,0.7)"], [10000, "rgba(168,210,110,0.7)"], [20000, "rgba(246,243,27,0.6)"], [40000, "rgba(138,215,39,0.7)"], [65000, "rgba(243,205,8,0.5)"], [90000, "rgba(150,204,104,0.4)"], [125000, "rgba(137,230,101,0.5)"], [150000, "rgba(246,243,27,0.5)"], [190000, "rgba(255,255,255,0.8)"]];

  animationCurve = function(frame) {
    if (frame < 1000) {
      return 25;
    }
    if (frame < 5000) {
      return 50;
    }
    if (frame < 10000) {
      return 75;
    }
    if (frame < 20000) {
      return 100;
    }
    if (frame < 40000) {
      return 150;
    }
    if (frame < 65000) {
      return 250;
    }
    if (frame < 90000) {
      return 400;
    }
    if (frame < 150000) {
      return 600;
    }
    if (frame < 190000) {
      return 400;
    }
    if (frame < 200000) {
      return 100;
    }
  };

  lut = {};

  numDraws = 0;

  pMax = 0;

  for (j = 0, len = transformations.length; j < len; j++) {
    row = transformations[j];
    for (i = l = ref = pMax, ref1 = row[2] + pMax - 1; (ref <= ref1 ? l <= ref1 : l >= ref1); i = ref <= ref1 ? ++l : --l) {
      lut[i] = [row[0], row[1]];
    }
    pMax += row[2];
  }

  getColors = function() {
    var colors;
    colors = colorStops.slice();
    return function() {
      var colorStop;
      if (!(colors[0] && numDraws >= colors[0][0])) {
        return;
      }
      colorStop = colors.shift();
      return ctx.fillStyle = colorStop[1];
    };
  };

  for (k in styles) {
    v = styles[k];
    canvas.style[k] = v;
  }

  window.ctx = canvas.getContext("2d");

  xSpan = xRange[1] - xRange[0];

  ySpan = yRange[1] - yRange[0];

  window.updateColor = getColors();

  render = function() {
    var drawsPerFrame, f, iter, m, ref2, x, y;
    if (numDraws > maxDraws) {
      return;
    }
    updateColor();
    drawsPerFrame = speed * animationCurve(numDraws);
    for (i = m = 0, ref2 = drawsPerFrame; (0 <= ref2 ? m <= ref2 : m >= ref2); i = 0 <= ref2 ? ++m : --m) {
      iter = 0;
      [x, y] = [rand(xRange[0], xRange[1]), rand(yRange[0], yRange[1])];
      while (iter++ < 50) {
        f = lut[~~rand(0, pMax)];
        [x, y] = [f[0](x, y), f[1](x, y)];
      }
      x = W * (x - xRange[0]) / xSpan;
      y = H * (1 - y / ySpan);
      ctx.fillRect(x, y, 1, 1);
    }
    return numDraws += drawsPerFrame;
  };

  window.onclick = function() {
    numDraws = 0;
    window.updateColor = getColors();
    return ctx.clearRect(0, 0, W, H);
  };

  rand = function(a, b) {
    return (b - a) * Math.random() + a;
  };

  window.requestAnimationFrame || (window.requestAnimationFrame = (function() {
    var len1, m, prefix, r, ref2;
    ref2 = ['webkit', 'moz', 'ms', 'o'];
    for (m = 0, len1 = ref2.length; m < len1; m++) {
      prefix = ref2[m];
      if (r = window[`${prefix}RequestAnimationFrame`]) {
        return r;
      }
    }
    return function(callback) {
      return window.setTimeout(callback, 1000 / 60);
    };
  })());

  (step = function() {
    return requestAnimationFrame(step) && render();
  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsY0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsZUFBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQTs7RUFBQSxLQUFBLEdBQVE7O0VBR1IsQ0FBQSxHQUFJOztFQUNKLENBQUEsR0FBSTs7RUFFSixlQUFBLEdBQWtCO0lBQ2hCO01BQUUsQ0FBQyxRQUFBLENBQUMsQ0FBRDtNQUFHLENBQUgsQ0FBQTtlQUFTO01BQVQsQ0FBRCxDQUFGO01BQWlDLENBQUMsUUFBQSxDQUFDLENBQUQ7TUFBRyxDQUFILENBQUE7ZUFBUyxJQUFBLEdBQUs7TUFBZCxDQUFELENBQWpDO01BQXVFLENBQXZFO0tBRGdCO0lBRWhCO01BQUUsQ0FBQyxRQUFBLENBQUMsQ0FBRDtNQUFHLENBQUgsQ0FBQTtlQUFTLEdBQUEsR0FBSSxDQUFKLEdBQVEsSUFBQSxHQUFLO01BQXRCLENBQUQsQ0FBRjtNQUFpQyxDQUFDLFFBQUEsQ0FBQyxDQUFEO01BQUcsQ0FBSCxDQUFBO2VBQVMsSUFBQSxHQUFLLENBQUwsR0FBUyxJQUFBLEdBQUssQ0FBZCxHQUFrQjtNQUEzQixDQUFELENBQWpDO01BQXVFLENBQXZFO0tBRmdCO0lBR2hCO01BQUUsQ0FBQyxRQUFBLENBQUMsQ0FBRDtNQUFHLENBQUgsQ0FBQTtlQUFTLENBQUMsSUFBRCxHQUFNLENBQU4sR0FBVSxJQUFBLEdBQUs7TUFBeEIsQ0FBRCxDQUFGO01BQWlDLENBQUMsUUFBQSxDQUFDLENBQUQ7TUFBRyxDQUFILENBQUE7ZUFBUyxJQUFBLEdBQUssQ0FBTCxHQUFTLElBQUEsR0FBSyxDQUFkLEdBQWtCO01BQTNCLENBQUQsQ0FBakM7TUFBdUUsQ0FBdkU7S0FIZ0I7SUFJaEI7TUFBRSxDQUFDLFFBQUEsQ0FBQyxDQUFEO01BQUcsQ0FBSCxDQUFBO2VBQVMsSUFBQSxHQUFLLENBQUwsR0FBUyxJQUFBLEdBQUs7TUFBdkIsQ0FBRCxDQUFGO01BQWlDLENBQUMsUUFBQSxDQUFDLENBQUQ7TUFBRyxDQUFILENBQUE7ZUFBUyxDQUFDLElBQUQsR0FBTSxDQUFOLEdBQVUsSUFBQSxHQUFLLENBQWYsR0FBbUI7TUFBNUIsQ0FBRCxDQUFqQztNQUF1RSxFQUF2RTtLQUpnQjs7O0VBT2xCLFFBQUEsR0FBVzs7RUFFWCxNQUFBLEdBQVMsQ0FBRSxDQUFDLEtBQUgsRUFBVyxNQUFYOztFQUNULE1BQUEsR0FBUyxDQUFFLENBQUYsRUFBVyxNQUFYOztFQUVULE1BQUEsR0FBUyxRQUFRLENBQUMsY0FBVCxDQUF3QixPQUF4Qjs7RUFDVCxNQUFNLENBQUMsS0FBUCxHQUFlOztFQUNmLE1BQU0sQ0FBQyxNQUFQLEdBQWdCOztFQUVoQixNQUFBLEdBQ0U7SUFBQSxRQUFBLEVBQVUsVUFBVjtJQUNBLEdBQUEsRUFBSyxLQURMO0lBRUEsSUFBQSxFQUFNLEtBRk47SUFHQSxNQUFBLEVBQVEsQ0FBQSxDQUFBLENBQUEsQ0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFOLENBQUEsUUFBQSxDQUFBLENBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUEsR0FBRSxDQUFILENBQXhCLENBQUEsRUFBQTtFQUhSOztFQUtGLFVBQUEsR0FBYSxDQUNYLENBQUUsQ0FBRixFQUFZLHFCQUFaLENBRFcsRUFFWCxDQUFFLElBQUYsRUFBWSxzQkFBWixDQUZXLEVBR1gsQ0FBRSxJQUFGLEVBQVksb0JBQVosQ0FIVyxFQUlYLENBQUUsS0FBRixFQUFZLHVCQUFaLENBSlcsRUFLWCxDQUFFLEtBQUYsRUFBWSxzQkFBWixDQUxXLEVBTVgsQ0FBRSxLQUFGLEVBQVksc0JBQVosQ0FOVyxFQU9YLENBQUUsS0FBRixFQUFZLHFCQUFaLENBUFcsRUFRWCxDQUFFLEtBQUYsRUFBWSx1QkFBWixDQVJXLEVBU1gsQ0FBRSxNQUFGLEVBQVksdUJBQVosQ0FUVyxFQVVYLENBQUUsTUFBRixFQUFZLHNCQUFaLENBVlcsRUFXWCxDQUFFLE1BQUYsRUFBWSx1QkFBWixDQVhXOztFQWNiLGNBQUEsR0FBaUIsUUFBQSxDQUFDLEtBQUQsQ0FBQTtJQUNmLElBQWEsS0FBQSxHQUFRLElBQXJCO0FBQUEsYUFBTyxHQUFQOztJQUNBLElBQWEsS0FBQSxHQUFRLElBQXJCO0FBQUEsYUFBTyxHQUFQOztJQUNBLElBQWEsS0FBQSxHQUFRLEtBQXJCO0FBQUEsYUFBTyxHQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLEtBQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLEtBQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLEtBQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLEtBQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLE1BQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLE1BQXRCO0FBQUEsYUFBTyxJQUFQOztJQUNBLElBQWMsS0FBQSxHQUFRLE1BQXRCO0FBQUEsYUFBTyxJQUFQOztFQVZlOztFQVlqQixHQUFBLEdBQU0sQ0FBQTs7RUFDTixRQUFBLEdBQVc7O0VBQ1gsSUFBQSxHQUFPOztFQUVQLEtBQUEsaURBQUE7O0lBQ0UsS0FBbUMsZ0hBQW5DO01BQUEsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTLENBQUMsR0FBRyxDQUFDLENBQUQsQ0FBSixFQUFTLEdBQUcsQ0FBQyxDQUFELENBQVo7SUFBVDtJQUNBLElBQUEsSUFBUSxHQUFHLENBQUMsQ0FBRDtFQUZiOztFQUlBLFNBQUEsR0FBWSxRQUFBLENBQUEsQ0FBQTtBQUNaLFFBQUE7SUFBRSxNQUFBLEdBQVMsVUFBVSxDQUFDLEtBQVgsQ0FBQTtXQUNULFFBQUEsQ0FBQSxDQUFBO0FBQ0YsVUFBQTtNQUFJLE1BQWMsTUFBTSxDQUFDLENBQUQsQ0FBTixJQUFjLFFBQUEsSUFBWSxNQUFNLENBQUMsQ0FBRCxDQUFHLENBQUMsQ0FBRCxFQUFqRDtBQUFBLGVBQUE7O01BQ0EsU0FBQSxHQUFZLE1BQU0sQ0FBQyxLQUFQLENBQUE7YUFDWixHQUFHLENBQUMsU0FBSixHQUFnQixTQUFTLENBQUMsQ0FBRDtJQUgzQjtFQUZVOztFQU9aLEtBQUEsV0FBQTs7SUFBQSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUQsQ0FBWixHQUFrQjtFQUFsQjs7RUFFQSxNQUFNLENBQUMsR0FBUCxHQUFhLE1BQU0sQ0FBQyxVQUFQLENBQWtCLElBQWxCOztFQUViLEtBQUEsR0FBUSxNQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVUsTUFBTSxDQUFDLENBQUQ7O0VBQ3hCLEtBQUEsR0FBUSxNQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVUsTUFBTSxDQUFDLENBQUQ7O0VBRXhCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUEsQ0FBQTs7RUFFckIsTUFBQSxHQUFTLFFBQUEsQ0FBQSxDQUFBO0FBQ1QsUUFBQSxhQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQTtJQUFFLElBQVUsUUFBQSxHQUFXLFFBQXJCO0FBQUEsYUFBQTs7SUFDQSxXQUFBLENBQUE7SUFDQSxhQUFBLEdBQWdCLEtBQUEsR0FBTSxjQUFBLENBQWUsUUFBZjtJQUN0QixLQUFTLCtGQUFUO01BQ0UsSUFBQSxHQUFPO01BQ1AsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQVEsQ0FBQyxJQUFBLENBQUssTUFBTSxDQUFDLENBQUQsQ0FBWCxFQUFlLE1BQU0sQ0FBQyxDQUFELENBQXJCLENBQUQsRUFBNEIsSUFBQSxDQUFLLE1BQU0sQ0FBQyxDQUFELENBQVgsRUFBZSxNQUFNLENBQUMsQ0FBRCxDQUFyQixDQUE1QjtBQUNSLGFBQU0sSUFBQSxFQUFBLEdBQVMsRUFBZjtRQUNFLENBQUEsR0FBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUEsQ0FBSyxDQUFMLEVBQU8sSUFBUCxDQUFIO1FBQ1AsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBRCxDQUFELENBQUssQ0FBTCxFQUFPLENBQVAsQ0FBRCxFQUFZLENBQUMsQ0FBQyxDQUFELENBQUQsQ0FBSyxDQUFMLEVBQU8sQ0FBUCxDQUFaO01BRlY7TUFHQSxDQUFBLEdBQUksQ0FBQSxHQUFFLENBQUMsQ0FBQSxHQUFFLE1BQU0sQ0FBQyxDQUFELENBQVQsQ0FBRixHQUFnQjtNQUNwQixDQUFBLEdBQUksQ0FBQSxHQUFFLENBQUMsQ0FBQSxHQUFFLENBQUEsR0FBRSxLQUFMO01BQ04sR0FBRyxDQUFDLFFBQUosQ0FBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLENBQXRCO0lBUkY7V0FTQSxRQUFBLElBQVk7RUFiTDs7RUFnQlQsTUFBTSxDQUFDLE9BQVAsR0FBaUIsUUFBQSxDQUFBLENBQUE7SUFDZixRQUFBLEdBQVc7SUFDWCxNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBLENBQUE7V0FDckIsR0FBRyxDQUFDLFNBQUosQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCLEVBQW9CLENBQXBCO0VBSGU7O0VBS2pCLElBQUEsR0FBTyxRQUFBLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtXQUFTLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBQSxHQUFNLElBQUksQ0FBQyxNQUFMLENBQUEsQ0FBTixHQUFvQjtFQUE3Qjs7RUFFUCxNQUFNLENBQUMsMEJBQVAsTUFBTSxDQUFDLHdCQUE2QixDQUFBLFFBQUEsQ0FBQSxDQUFBO0FBQ3BDLFFBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBO0FBQUU7SUFBQSxLQUFBLHdDQUFBOztNQUNFLElBQVksQ0FBQSxHQUFJLE1BQU0sQ0FBQyxDQUFBLENBQUEsQ0FBRyxNQUFILENBQUEscUJBQUEsQ0FBRCxDQUF0QjtBQUFBLGVBQU8sRUFBUDs7SUFERjtXQUVBLFFBQUEsQ0FBQyxRQUFELENBQUE7YUFBYyxNQUFNLENBQUMsVUFBUCxDQUFrQixRQUFsQixFQUE0QixJQUFBLEdBQUssRUFBakM7SUFBZDtFQUhrQyxDQUFBOztFQUtwQyxDQUFDLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtXQUFHLHFCQUFBLENBQXNCLElBQXRCLENBQUEsSUFBZ0MsTUFBQSxDQUFBO0VBQW5DLENBQVIsQ0FBQSxDQUFBO0FBMUdBIiwic291cmNlc0NvbnRlbnQiOlsic3BlZWQgPSAxXG5cblxuVyA9IDM1MFxuSCA9IDUwMFxuXG50cmFuc2Zvcm1hdGlvbnMgPSBbXG4gIFsgKCh4LHkpIC0+IDAgICAgICAgICAgICAgICAgKSAsICgoeCx5KSAtPiAwLjE2KnkgICAgICAgICAgICAgICAgICApICwgMSAgXVxuICBbICgoeCx5KSAtPiAwLjIqeCAtIDAuMjYqeSAgICkgLCAoKHgseSkgLT4gMC4yMyp4ICsgMC4yMip5ICsgMS42ICAgKSAsIDcgIF1cbiAgWyAoKHgseSkgLT4gLTAuMTUqeCArIDAuMjgqeSApICwgKCh4LHkpIC0+IDAuMjYqeCArIDAuMjQqeSArIDAuNDQgICkgLCA3ICBdXG4gIFsgKCh4LHkpIC0+IDAuODUqeCArIDAuMDQqeSAgKSAsICgoeCx5KSAtPiAtMC4wNCp4ICsgMC44NSp5ICsgMS42ICApICwgODUgXVxuXVxuXG5tYXhEcmF3cyA9IDIwMDAwMFxuXG54UmFuZ2UgPSBbIC0yLjE4MiAsIDIuNjU1OCBdXG55UmFuZ2UgPSBbIDAgICAgICAsIDkuOTk4MyBdXG5cbmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid29ybGRcIilcbmNhbnZhcy53aWR0aCA9IFdcbmNhbnZhcy5oZWlnaHQgPSBIXG5cbnN0eWxlcyA9XG4gIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgdG9wOiBcIjUwJVwiXG4gIGxlZnQ6IFwiNTAlXCJcbiAgbWFyZ2luOiBcIi0je35+KEgvMil9cHggMCAwIC0je35+KFcvMil9cHhcIlxuXG5jb2xvclN0b3BzID0gW1xuICBbIDAgICAgICAgLCBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIiAgICBdXG4gIFsgMTAwMCAgICAsIFwicmdiYSgyNTMsMjUzLDUyLDAuNilcIiAgIF1cbiAgWyA1MDAwICAgICwgXCJyZ2JhKDAsMTcxLDU2LDAuNylcIiAgICAgXVxuICBbIDEwMDAwICAgLCBcInJnYmEoMTY4LDIxMCwxMTAsMC43KVwiICBdXG4gIFsgMjAwMDAgICAsIFwicmdiYSgyNDYsMjQzLDI3LDAuNilcIiAgIF1cbiAgWyA0MDAwMCAgICwgXCJyZ2JhKDEzOCwyMTUsMzksMC43KVwiICAgXVxuICBbIDY1MDAwICAgLCBcInJnYmEoMjQzLDIwNSw4LDAuNSlcIiAgICBdXG4gIFsgOTAwMDAgICAsIFwicmdiYSgxNTAsMjA0LDEwNCwwLjQpXCIgIF1cbiAgWyAxMjUwMDAgICwgXCJyZ2JhKDEzNywyMzAsMTAxLDAuNSlcIiAgXVxuICBbIDE1MDAwMCAgLCBcInJnYmEoMjQ2LDI0MywyNywwLjUpXCIgICBdXG4gIFsgMTkwMDAwICAsIFwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIgIF1cbl1cblxuYW5pbWF0aW9uQ3VydmUgPSAoZnJhbWUpIC0+XG4gIHJldHVybiAyNSBpZiBmcmFtZSA8IDEwMDBcbiAgcmV0dXJuIDUwIGlmIGZyYW1lIDwgNTAwMFxuICByZXR1cm4gNzUgaWYgZnJhbWUgPCAxMDAwMFxuICByZXR1cm4gMTAwIGlmIGZyYW1lIDwgMjAwMDBcbiAgcmV0dXJuIDE1MCBpZiBmcmFtZSA8IDQwMDAwXG4gIHJldHVybiAyNTAgaWYgZnJhbWUgPCA2NTAwMFxuICByZXR1cm4gNDAwIGlmIGZyYW1lIDwgOTAwMDBcbiAgcmV0dXJuIDYwMCBpZiBmcmFtZSA8IDE1MDAwMFxuICByZXR1cm4gNDAwIGlmIGZyYW1lIDwgMTkwMDAwXG4gIHJldHVybiAxMDAgaWYgZnJhbWUgPCAyMDAwMDBcblxubHV0ID0ge31cbm51bURyYXdzID0gMFxucE1heCA9IDBcblxuZm9yIHJvdyBpbiB0cmFuc2Zvcm1hdGlvbnNcbiAgbHV0W2ldID0gW3Jvd1swXSwgcm93WzFdXSBmb3IgaSBpbiBbcE1heC4ucm93WzJdK3BNYXgtMV1cbiAgcE1heCArPSByb3dbMl1cblxuZ2V0Q29sb3JzID0gLT5cbiAgY29sb3JzID0gY29sb3JTdG9wcy5zbGljZSgpXG4gIC0+XG4gICAgcmV0dXJuIHVubGVzcyBjb2xvcnNbMF0gYW5kIG51bURyYXdzID49IGNvbG9yc1swXVswXVxuICAgIGNvbG9yU3RvcCA9IGNvbG9ycy5zaGlmdCgpXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yU3RvcFsxXVxuXG5jYW52YXMuc3R5bGVba10gPSB2IGZvciBrLHYgb2Ygc3R5bGVzXG5cbndpbmRvdy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXG5cbnhTcGFuID0geFJhbmdlWzFdLXhSYW5nZVswXVxueVNwYW4gPSB5UmFuZ2VbMV0teVJhbmdlWzBdXG5cbndpbmRvdy51cGRhdGVDb2xvciA9IGdldENvbG9ycygpXG5cbnJlbmRlciA9IC0+XG4gIHJldHVybiBpZiBudW1EcmF3cyA+IG1heERyYXdzXG4gIHVwZGF0ZUNvbG9yKClcbiAgZHJhd3NQZXJGcmFtZSA9IHNwZWVkKmFuaW1hdGlvbkN1cnZlKG51bURyYXdzKVxuICBmb3IgaSBpbiBbMC4uZHJhd3NQZXJGcmFtZV1cbiAgICBpdGVyID0gMFxuICAgIFt4LHldID0gW3JhbmQoeFJhbmdlWzBdLHhSYW5nZVsxXSksIHJhbmQoeVJhbmdlWzBdLHlSYW5nZVsxXSldXG4gICAgd2hpbGUgaXRlcisrIDwgNTBcbiAgICAgIGYgPSBsdXRbfn5yYW5kKDAscE1heCldXG4gICAgICBbeCx5XSA9IFtmWzBdKHgseSksIGZbMV0oeCx5KV1cbiAgICB4ID0gVyooeC14UmFuZ2VbMF0pL3hTcGFuXG4gICAgeSA9IEgqKDEteS95U3BhbilcbiAgICBjdHguZmlsbFJlY3QgeCwgeSwgMSwgMVxuICBudW1EcmF3cyArPSBkcmF3c1BlckZyYW1lXG5cblxud2luZG93Lm9uY2xpY2sgPSAtPlxuICBudW1EcmF3cyA9IDBcbiAgd2luZG93LnVwZGF0ZUNvbG9yID0gZ2V0Q29sb3JzKClcbiAgY3R4LmNsZWFyUmVjdCgwLDAsVyxIKVxuXG5yYW5kID0gKGEsYikgLT4gKGItYSkqTWF0aC5yYW5kb20oKSthXG5cbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHw9IGRvIC0+XG4gIGZvciBwcmVmaXggaW4gWyd3ZWJraXQnLCdtb3onLCdtcycsJ28nXVxuICAgIHJldHVybiByIGlmIHIgPSB3aW5kb3dbXCIje3ByZWZpeH1SZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl1cbiAgKGNhbGxiYWNrKSAtPiB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMC82MClcblxuKHN0ZXAgPSAtPiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgYW5kIHJlbmRlcigpKSgpXG4iXX0=
//# sourceURL=coffeescript