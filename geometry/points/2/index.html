<html>
  <head>
  <title>P2: Triangulation</title>
  <script src="https://unpkg.com/pts/dist/pts.min.js"></script>
  <style>
      body, html {
        background: #000;
        width: 100%;
        height: 100%;
        margin: 0;
        text-align:center;
        overflow: hidden;
      }
      div#pt{width: 100%; height: 100%;}
    </style>
  </head>
  <body>
    <div id="pt"></div>
    <script>

(function() {
  
  let run = Pts.quickStart( "#pt", "#000" );
  let pts;

  run( (time, ftime)  => {
    if (!pts) pts = Create.distributeRandom( space.innerBound, 100 );

    let t = space.pointer;
    pts.sort( (a,b) => a.$subtract(t).magnitudeSq() - b.$subtract(t).magnitudeSq() );
    
    form.fillOnly("#999", 1);
    pts.forEach( (p, i) => form.point( p, 10 - 10*i/pts.length, "circle" ) )

    form.fillOnly("#000").points( pts, 2, "circle" );

    let three = pts.slice(0, 3);
    let threeLines = three.map( (p) => [p, space.pointer] );
    form.strokeOnly("#fff", 2).lines( threeLines );
    form.fillOnly("#f8f8f8").points( three, 3, "circle" );
  });


// Source code licensed under Apache License 2.0. 
// Copyright © 2017 William Ngan. (https://github.com/williamngan/pts)
  //// ----  

  space.bindMouse().bindTouch().play();

})();


    </script>
  </body>
</html>